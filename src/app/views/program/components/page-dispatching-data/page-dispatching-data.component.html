<div class="table-operations">
  <app-page-dispatching-data-search></app-page-dispatching-data-search>
</div>
<!--  -->
<nz-divider nzText="流域内大中型水库水情简报" nzOrientation="left" style="margin-bottom: 10px;"></nz-divider>
<!--  -->
<div class="flex-row">
  <div>
    <button nz-button nzTitle="打印" nzPlacement="top" nz-tooltip (click)="add()" nzSize="small"><i nz-icon nzType="printer"
        theme="outline"></i>打印</button>
    &nbsp;
    <button nz-button nzTitle="导出" nzPlacement="top" nz-tooltip (click)="del(checkedItems)" nzSize="small"
      [disabled]="checkedItems.length === 0"><i nz-icon nzType="export" theme="outline"></i>导出</button>
  </div>
  <div class="tr" style="line-height: 32px;">
    2019-01-01 00:00:00 单位（水位：m, 流量：<font class="m3">m</font>/s, 蓄水量：k<font class="m3">m</font>）
  </div>
</div>
<!--  -->
<div id="print_div" #print_div class="table-operations">
  <nz-table #dataGrid nzShowSizeChanger nzShowQuickJumper [nzShowTotal]="totalTemplate" [nzFrontPagination]="false"
    [nzTotal]="total" [(nzPageIndex)]="pageIndex" [(nzPageSize)]="pageSize" (nzPageIndexChange)="loadData()"
    nzSize="small" [nzScroll]="{ x: '1600px'}" (nzPageSizeChange)="loadData(true)" [nzData]="dataset" nzBordered>
    <thead>
      <tr>
        <th>水库名称</th>
        <th>水库水位</th>
        <th>汛限比</th>
        <th>入库流量</th>
        <th>出库流量</th>
        <th>蓄水量</th>
        <th>有效蓄水量</th>
        <th>水位与上有同期比</th>
        <th>水位与多年同期比</th>
        <th>蓄水量与上月同期比</th>
        <th>蓄水量与多年同期比</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of dataGrid.data">
        <td>{{data.label1}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
        <td>{{data.label2}}</td>
      </tr>
    </tbody>
  </nz-table>
  <ng-template #totalTemplate let-total>共计 {{total}} 条记录.</ng-template>

</div>


<!--  -->

<div>
  <essence-ng2-print [btnText]="'iframe模式打印'" [btnClass]="{'btn': true, 'btn-success': true}" [printHTML]="print_div"
    [printStyle]="printStyle" [printCSS]="printCSS" (printComplete)="printComplete()">
  </essence-ng2-print>

  <essence-ng2-print [btnText]="'iframe模式打印字符串'" [btnClass]="{'btn': true, 'btn-success': true}"
    [printHTML]="editorText" (printComplete)="printComplete()">
  </essence-ng2-print>

  <essence-ng2-print #print1 [showBtn]="false" [printHTML]="print_div" [printStyle]="printStyle" [printCSS]="printCSS"
    (printComplete)="printComplete()">
  </essence-ng2-print>
  <button class="btn btn-primary" (click)="customPrint('print1')">自定义打印（iframe模式）</button>

  <essence-ng2-print [mode]="'popup'" [popTitle]="'表格打印'" [btnText]="'popup模式打印'"
    [btnClass]="{'btn': true, 'btn-warning': true}" [printHTML]="print_div" [printStyle]="printStyle"
    [printCSS]="printCSS" (printComplete)="printComplete()">
  </essence-ng2-print>

  <essence-ng2-print #print2 [mode]="'popup'" [popTitle]="'表格打印'" [showBtn]="false" [printHTML]="print_div"
    [printStyle]="printStyle" [printCSS]="printCSS" (printComplete)="printComplete()">
  </essence-ng2-print>
  <button class="btn btn-primary" (click)="customPrint('print2')">自定义打印（popup模式）</button>
</div>
